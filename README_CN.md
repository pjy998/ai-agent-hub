# AI Agent Hub

**è¯­è¨€**: [English](./README.md) | [ä¸­æ–‡](#)

**AI Agent Hub** æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ VS Code æ‰©å±•ï¼Œä¸“é—¨ç”¨äºå¢å¼º Copilot Chat çš„ AI ç¼–ç¨‹ä½“éªŒã€‚å®ƒé€šè¿‡ç»“æ„åŒ–çš„å¤šæ­¥éª¤å·¥ä½œæµã€æ™ºèƒ½ä¸Šä¸‹æ–‡æ”¶é›†å’Œä¸“ä¸šæ™ºèƒ½ä½“åä½œï¼Œå°†ç®€å•çš„èŠå¤©äº¤äº’è½¬æ¢ä¸ºå¤æ‚çš„ä¸“ä¸šç¼–ç¨‹åŠ©æ‰‹ã€‚

ğŸš€ **å½“å‰ç‰ˆæœ¬**: 0.0.1 (MVP - æ¦‚å¿µéªŒè¯)

## ğŸ¯ é¡¹ç›®ç›®æ ‡

**ä¸ºå¼€å‘äººå‘˜æä¾›æ›´å¥½çš„ Copilot Chat AI ç¼–ç¨‹ä½“éªŒ**

- **ç»“æ„åŒ–å·¥ä½œæµ**: é€šè¿‡YAMLé¢„è®¾å®šä¹‰å¤æ‚çš„å¤šæ­¥éª¤AIç¼–ç¨‹æµç¨‹
- **æ™ºèƒ½ä¸Šä¸‹æ–‡**: è‡ªåŠ¨æ”¶é›†é¡¹ç›®ä¸Šä¸‹æ–‡ï¼Œè®©AIæ›´å¥½ç†è§£ä»£ç æ„å›¾  
- **é€æ˜å¯æ§**: å®Œæ•´çš„Promptå›æ”¾å’Œè°ƒè¯•é¢æ¿ï¼Œè¿½è¸ªæ¯ä¸€æ­¥AIæ¨ç†è¿‡ç¨‹
- **è‡ªåŠ¨åŒ–è§¦å‘**: æ–‡ä»¶ä¿å­˜ã€ä»£ç é€‰æ‹©æˆ–èŠå¤©è¾“å…¥æ—¶è‡ªåŠ¨å¯åŠ¨ç›¸åº”å·¥ä½œæµ
- **å¤šæ™ºèƒ½ä½“åä½œ**: coderã€testerã€requirementsç­‰ä¸“ä¸šæ™ºèƒ½ä½“ååŒå·¥ä½œ

## ğŸ†š **ä¸æ™®é€š Copilot Chat çš„å¯¹æ¯”**

| åŠŸèƒ½ç‰¹æ€§ | æ™®é€š Copilot Chat | AI Agent Hub |
|---------|------------------|-------------|
| **äº¤äº’æ–¹å¼** | å•æ¬¡é—®ç­” | å¤šæ­¥éª¤ç»“æ„åŒ–å·¥ä½œæµ |
| **ä¸Šä¸‹æ–‡ç†è§£** | å½“å‰æ–‡ä»¶ | é¡¹ç›®çº§ä¸Šä¸‹æ–‡ + Gitå·®å¼‚ |
| **ä¸“ä¸šåŒ–ç¨‹åº¦** | é€šç”¨AIåŠ©æ‰‹ | ä¸“ä¸šç¼–ç¨‹æ™ºèƒ½ä½“åä½œ |
| **å·¥ä½œæµç¨‹** | æ‰‹åŠ¨å¼•å¯¼ | è‡ªåŠ¨åŒ–è§¦å‘å’Œæ‰§è¡Œ |
| **é€æ˜åº¦** | é»‘ç›’æ“ä½œ | å®Œæ•´Promptå›æ”¾å’Œè°ƒè¯• |
| **å¯å®šåˆ¶æ€§** | å›ºå®šæ¨¡å¼ | YAMLé…ç½®çš„çµæ´»å·¥ä½œæµ |
| **è´¨é‡ä¿è¯** | ä¾èµ–ç”¨æˆ·éªŒè¯ | å†…ç½®æµ‹è¯•ç”Ÿæˆå’ŒéªŒè¯ |
| **å­¦ä¹ æ›²çº¿** | å³ç”¨å³å­¦ | ä¸€æ¬¡é…ç½®ï¼Œé•¿æœŸå—ç›Š |

### ğŸ¯ **é€‚ç”¨åœºæ™¯**

**ä½¿ç”¨æ™®é€š Copilot Chat å½“ä½ éœ€è¦:**
- å¿«é€Ÿä»£ç ç‰‡æ®µç”Ÿæˆ
- ç®€å•é—®é¢˜è§£ç­”
- ä¸´æ—¶ä»£ç è§£é‡Š

**ä½¿ç”¨ AI Agent Hub å½“ä½ éœ€è¦:**
- å®Œæ•´åŠŸèƒ½å¼€å‘ï¼ˆéœ€æ±‚â†’ä»£ç â†’æµ‹è¯•ï¼‰
- å¤§è§„æ¨¡ä»£ç é‡æ„
- å›¢é˜Ÿåä½œçš„æ ‡å‡†åŒ–AIå·¥ä½œæµ
- å¯è¿½æº¯çš„AIå†³ç­–è¿‡ç¨‹
- ä¼ä¸šçº§ä»£ç è´¨é‡ä¿è¯

## ğŸ“ ç³»ç»Ÿæ¶æ„

```mermaid
flowchart TD
    subgraph "å¼€å‘è€…æ“ä½œ"
        A[ä¿å­˜æ–‡ä»¶]
        B[é€‰æ‹©æ–‡æœ¬]
        C[ai èŠå¤©]
    end
    
    subgraph "VS Code æ‰©å±•å±‚"
        D[è§¦å‘ç›‘å¬å™¨]
        E[ä¸Šä¸‹æ–‡æ”¶é›†å™¨]
        F[æµç¨‹åˆ†å‘å™¨]
    end
    
    subgraph "MCP Hub è¿è¡Œæ—¶"
        G[å·¥ä½œæµæ‰§è¡Œå™¨]
        H[æç¤ºå¼•æ“]
        I[æ¨¡å‹è·¯ç”±å™¨]
        J[æ™ºèƒ½ä½“ç®¡ç†å™¨]
    end
    
    K[Copilot Chat]
    
    subgraph "VS Code UI ç•Œé¢"
        L[ä»£ç æ’å…¥]
        M[è¾“å‡ºé¢æ¿]
        N[æç¤ºå›æ”¾ç•Œé¢]
    end
    
    A -->|æ–‡ä»¶ä¿å­˜| D
    B -->|æ–‡æœ¬é€‰æ‹©| D
    C -->|ai è¾“å…¥| D
    D -->|æ”¶é›†ä¸Šä¸‹æ–‡| E
    E -->|åˆ†å‘é¢„è®¾| F
    F -->|POST /mcp/run| G
    G -->|æ‰§è¡Œæ­¥éª¤| H
    H -->|è·¯ç”±åˆ°æ¨¡å‹| I
    I -->|è½¬å‘åˆ° Copilot Chat| F
    F -->|å‘é€æç¤º| K
    K -->|å›å¤| F
    F -->|è¿”å›å›å¤| I
    I -->|å­˜å‚¨å›æ”¾| H
    H -->|æ­¥éª¤å®Œæˆ| G
    G -->|è¿”å›ç»“æœ| L
    G -->|è¿”å›ç»“æœ| M
    G -->|è¿”å›ç»“æœ| N
```

### â± ç¤ºä¾‹åºåˆ—å›¾ï¼ˆä¿å­˜æ–‡ä»¶è§¦å‘ï¼‰

```plantuml
@startuml
participant ç”¨æˆ· as User
participant "VS Code\næ‰©å±•" as VSCode
participant "è§¦å‘å™¨\nç›‘å¬å™¨" as Trigger
participant "ä¸Šä¸‹æ–‡\næ”¶é›†å™¨" as Context
participant "å·¥ä½œæµ\nåˆ†å‘å™¨" as Dispatcher
participant "MCP\nHub" as MCP
participant "å·¥ä½œæµ\næ‰§è¡Œå™¨" as Runner
participant "æç¤º\nå¼•æ“" as Prompt
participant "æ¨¡å‹\nè·¯ç”±å™¨" as Router
participant "Copilot\nChat" as Copilot
participant "VS Code\nUI" as UI

User -> VSCode: ä¿å­˜æ–‡ä»¶ (Ctrl+S)
VSCode -> Trigger: æ£€æµ‹ onFileSave
Trigger -> Context: collect(file, language, git_diff)
Context -> Dispatcher: dispatch("coding-with-ai", context)
Dispatcher -> MCP: POST /mcp/run { preset: "coding-with-ai", context }
MCP -> Runner: loadPreset("coding-with-ai.yaml")

note over Runner, Prompt: æ­¥éª¤ 1: éœ€æ±‚æ¾„æ¸…
Runner -> Prompt: step1: clarify
Prompt -> Router: route(model="copilot-gpt-4.1")
Router -> VSCode: è½¬å‘æç¤ºåˆ° Copilot Chat
VSCode -> Copilot: sendPrompt(clarify_prompt)
Copilot -> VSCode: reply(JSON: { clarified, questions })
VSCode -> Router: è¿”å›å›å¤
Router -> Prompt: storeReplay(step1, prompt, reply)
Prompt -> Runner: step1 å®Œæˆ

note over Runner, Prompt: æ­¥éª¤ 2: ä»£ç ç”Ÿæˆ
Runner -> Prompt: step2: coding
Prompt -> Router: route(model="copilot-gpt-4.1")
Router -> VSCode: è½¬å‘æç¤º
VSCode -> Copilot: sendPrompt(code_prompt)
Copilot -> VSCode: reply(Markdown: code)
VSCode -> Router: è¿”å›å›å¤
Router -> Prompt: storeReplay(step2, prompt, reply)
Prompt -> Runner: step2 å®Œæˆ

note over Runner, Prompt: æ­¥éª¤ 3: æµ‹è¯•ç”Ÿæˆ
Runner -> Prompt: step3: test
Prompt -> Router: route(model="copilot-gpt-4.1")
Router -> VSCode: è½¬å‘æç¤º
VSCode -> Copilot: sendPrompt(test_prompt)
Copilot -> VSCode: reply(Markdown: tests)
VSCode -> Router: è¿”å›å›å¤
Router -> Prompt: storeReplay(step3, prompt, reply)
Prompt -> Runner: step3 å®Œæˆ

Runner -> VSCode: return { code, tests }
VSCode -> UI: insertCode(code, file)
VSCode -> UI: showResults(tests, output_panel)
VSCode -> UI: showReplay(step1, step2, step3)
@enduml
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18.x
- VS Code >= 1.80.0
- GitHub Copilot è®¢é˜…

### å®‰è£…æ­¥éª¤

1. å…‹éš†ä»“åº“:
   ```bash
   git clone https://github.com/pjy998/ai-agent-hub.git
   cd ai-agent-hub
   ```

2. å®‰è£…ä¾èµ–:
   ```bash
   npm install
   ```

3. æ„å»ºå’Œå¯åŠ¨:
   ```bash
   npm run build
   cd packages/ai-agent
   npm run start
   ```

### ä½¿ç”¨æ–¹æ³•

- **èŠå¤©è§¦å‘**: åœ¨ Copilot Chat ä¸­è¾“å…¥ `@ai coding` æˆ– `@ai requirements`
- **ä¿å­˜è§¦å‘**: ä¿å­˜æ–‡ä»¶è‡ªåŠ¨è¿è¡Œ `coding-with-ai.yaml` å·¥ä½œæµ
- **é€‰æ‹©è§¦å‘**: é€‰æ‹©ä»£ç åå³é”®è§¦å‘ `refactor.yaml` å·¥ä½œæµ
- **æç¤ºé‡æ”¾**: åœ¨ `~/.ai-agent-hub/replay/` æŸ¥çœ‹æ—¥å¿—

## ğŸ› ï¸ æ ¸å¿ƒåŠŸèƒ½ (0.0.1)

- **è§¦å‘å™¨**: `@ai` èŠå¤©ã€æ–‡ä»¶ä¿å­˜ã€æ–‡æœ¬é€‰æ‹©
- **VS Code æ‰©å±•**: Copilot Chat GPT-4.1 çš„ä¸­ä»‹ï¼Œå°†ä¸Šä¸‹æ–‡ä¼ é€’ç»™ MCP
- **MCP Hub**:
  - **FlowRunner**: æ‰§è¡Œé¢„è®¾ YAML å·¥ä½œæµ
  - **PromptEngine**: å¤šæ­¥æç¤ºä¼˜åŒ–
  - **ModelRouter**: é€šè¿‡æ‰©å±•è½¬å‘è¯·æ±‚åˆ° Copilot Chat
  - **AgentManager**: æ”¯æŒç¼–ç è€…ã€æµ‹è¯•è€…ã€éœ€æ±‚æ™ºèƒ½ä½“
- **é¢„è®¾**: `coding-with-ai.yaml`ã€`refactor.yaml`ã€`requirements-analysis.yaml`
- **æç¤ºé‡æ”¾**: è®°å½•æç¤º/å›å¤ä»¥ä¿è¯é€æ˜åº¦

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
ai-agent-hub/
â”œâ”€ packages/
â”‚  â”œâ”€ ai-agent/             # VS Code æ‰©å±•
â”‚  â”‚   â”œâ”€ package.json
â”‚  â”‚   â”œâ”€ src/
â”‚  â”‚   â”‚   â””â”€ extension.ts
â”‚  â”‚   â”œâ”€ extension-config.json
â”‚  â”‚   â””â”€ README.md
â”‚  â””â”€ ai-mcp/               # MCP CLI å·¥å…·
â”‚      â”œâ”€ package.json
â”‚      â”œâ”€ src/
â”‚      â”‚   â””â”€ index.ts
â”‚      â””â”€ README.md
â”œâ”€ agents/
â”‚  â””â”€ presets/
â”‚      â”œâ”€ coding-with-ai.yaml
â”‚      â”œâ”€ refactor.yaml
â”‚      â””â”€ requirements-analysis.yaml
â”œâ”€ package.json
â”œâ”€ README.md
â”œâ”€ roadmap.md
â””â”€ LICENSE
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯å¯¹æ¯”

### åœºæ™¯1: ä»£ç é‡æ„

**ç®€å• Chat Agent**:
```
ç”¨æˆ·: @agent å¸®æˆ‘é‡æ„è¿™æ®µä»£ç  [ç²˜è´´ä»£ç ]
AI: è¿™æ˜¯é‡æ„åçš„ä»£ç ...
```

**AI Agent Hub**:
```yaml
# è‡ªåŠ¨è§¦å‘çš„é‡æ„å·¥ä½œæµ
1. åˆ†æä»£ç è´¨é‡é—®é¢˜
2. è¯†åˆ«é‡æ„æœºä¼š
3. ç”Ÿæˆé‡æ„æ–¹æ¡ˆ
4. åˆ›å»ºéªŒè¯æµ‹è¯•
5. æä¾›æ€§èƒ½å¯¹æ¯”
```

### åœºæ™¯2: æ–°åŠŸèƒ½å¼€å‘

**ç®€å• Chat Agent**:
```
ç”¨æˆ·: @agent å¸®æˆ‘å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½
AI: è¿™æ˜¯ç™»å½•ä»£ç ...
```

**AI Agent Hub**:
```yaml
# å®Œæ•´çš„å¼€å‘å·¥ä½œæµ
1. éœ€æ±‚æ¾„æ¸…å’ŒAPIè®¾è®¡
2. æ•°æ®æ¨¡å‹è®¾è®¡
3. ä¸šåŠ¡é€»è¾‘å®ç°
4. å•å…ƒæµ‹è¯•ç”Ÿæˆ
5. é›†æˆæµ‹è¯•åˆ›å»º
6. æ–‡æ¡£ç”Ÿæˆ
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æŸ¥çœ‹ `roadmap.md` äº†è§£ä¼˜å…ˆçº§ã€‚Fork é¡¹ç›®ï¼Œåˆ›å»ºåˆ†æ”¯ï¼ˆ`feature/your-feature`ï¼‰ï¼Œæäº¤ PRã€‚åœ¨ GitHub Issues ä¸­æŠ¥å‘Šé—®é¢˜æˆ–è®¨è®ºæ–°åŠŸèƒ½ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub ä»“åº“](https://github.com/pjy998/ai-agent-hub)
- [é—®é¢˜åé¦ˆ](https://github.com/pjy998/ai-agent-hub/issues)
- [å‘å±•è·¯çº¿å›¾](roadmap.md)
- [English README](README.md)

---

**æ€»ç»“**: AI Agent Hub ä¸ä»…ä»…æ˜¯ä¸€ä¸ªèŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„ AI é©±åŠ¨å¼€å‘å·¥ä½œæµå¹³å°ï¼Œæä¾›ç»“æ„åŒ–ã€å¯æ§ã€é€æ˜çš„ç¼–ç¨‹è¾…åŠ©ä½“éªŒã€‚