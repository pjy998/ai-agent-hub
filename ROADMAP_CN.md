# AI Agent Hub 路线图

## 🎯 版本 0.0.9 (当前版本 - 增强型 MVP)

**状态**: ✅ 已完成

### 核心功能
- [x] VS Code 扩展，支持聊天参与者 (ai-agent.coding, ai-agent.refactor, ai-ag## 🔥 当前优先级 (2025年8月更新 - 基于代码分析)

### 🚫 **立即修复** (阻塞问题)
1. **VS Code扩展激活**: 修复MCP SDK导入路径问题，扩展当前无法启动
2. **工具安全漏洞**: 补全validateFilePath和validateShellCommand验证逻辑
3. **文档过时**: 更新ROADMAP和文档以反映真实代码状态

### 📈 短期优先级 (v0.1.2-0.1.3)  
1. **AI模型集成**: 将executeStep中的模拟实现替换为真实AI调用
2. **用户体验**: 添加工作流执行状态显示和进度指示器
3. **性能优化**: 上下文收集系统在大项目中的性能优化和缓存

### 🎯 中期优先级 (v0.2.0-1.0.0)
1. **高级工作流**: 流程控制、并行执行、条件分支
2. **多模型支持**: Claude、Groq 等多模型支持
3. **配置界面**: 工具权限设置、模型选择等用户配置界面)
- [x] MCP 服务器支持 YAML 预设加载和执行
- [x] 三个核心预设：编程协助、代码重构、需求分析
- [x] VS Code 市场发布流水线
- [x] 跨平台 MCP 服务器支持
- [x] 聊天功能验证测试

### 架构
- [x] VS Code 扩展 (packages/ai-agent/) - 聊天集成与流式处理
- [x] MCP 运行时 (packages/ai-mcp/) - 工作流执行引擎
- [x] YAML 预设系统 (agents/presets/) - 工作流定义
- [x] 自动化构建和测试流水线

### 当前限制 (基于代码分析 - 2025年8月20日)
- ❌ **VS Code扩展激活失败**：MCP SDK导入路径错误导致扩展无法启动
- ⚠️ **MCP 服务器**：模拟 AI 响应，未集成真实模型
- ⚠️ **工具安全机制不完整**：validateFilePath和validateShellCommand验证逻辑存在安全漏洞
- ⚠️ **用户界面反馈**：缺少工作流执行状态显示
- ✅ **上下文智能系统**：ContextCollector和ContextRanker已完全实现（比计划超前完成）
- ✅ **工具系统框架**：四个核心工具已完整实现，但缺乏安全验证

## 🔧 版本 0.1.0 (上下文智能) - **已实际完成**

**目标时间**: 2025年9月  
**重点**: 解决提示词超长问题，提升上下文质量

### 上下文智能 ✅ 已完成
- [x] 上下文排序器实现 (`packages/ai-agent/src/context/ranker.ts`)
  - [x] 文件相关性打分算法 - **完整实现**
  - [x] 前K文件选择机制 - **完整实现**
  - [x] 智能内容截取 - **完整实现**
- [x] 增强型上下文收集器 (`packages/ai-agent/src/context/collector.ts`)
  - [x] Git 差异收集 - **完整实现**
  - [x] 项目结构分析 - **完整实现**
  - [x] 文件依赖关系分析 - **基础实现**
- [ ] 上下文缓存优化 - **性能待优化**

## 🛠️ 版本 0.1.1 (工具基础)

**目标时间**: 2025年9月  
**重点**: 实现真实的工具执行能力

### 核心工具实现 ✅ 已完成 (但安全性待增强)
- [x] 基础工具框架 (`packages/ai-mcp/src/tools/`)
  - [x] `writeFile` - 文件写入 (**完整实现**)
  - [x] `readFile` - 文件读取 (**完整实现**)
  - [x] `runShell` - 命令执行 (**完整实现**)
  - [x] `searchFile` - 文件搜索 (**完整实现**)
- [ ] 工具权限控制 (**框架存在但验证不完整**)
  - [ ] 工作目录限制
  - [ ] 命令白名单
  - [ ] 文件操作权限
- [ ] 错误处理和回滚机制

## 🚀 版本 0.1.2 (用户体验)

**目标时间**: 2025年10月  
**重点**: 提升用户体验和反馈

### 界面和用户体验改进
- [ ] 工作流执行状态显示
  - [ ] 步骤进度指示器
  - [ ] 实时执行状态
  - [ ] 友好的错误消息
- [ ] 增强的 VS Code 集成
  - [ ] 状态栏显示
  - [ ] 输出面板优化
  - [ ] 快捷键支持
- [ ] 配置界面
  - [ ] 预设管理
  - [ ] 模型选择
  - [ ] 工具权限设置

## 🤖 版本 0.1.3 (AI 集成)

**目标时间**: 2025年10月  
**重点**: 集成真实 AI 模型

### 真实 AI 模型集成  
- [ ] 将模拟实现替换为真实 AI 调用
- [ ] OpenAI API 集成
- [ ] Azure OpenAI 支持
- [ ] 可配置的模型选择
- [ ] 令牌使用统计
- [ ] 错误重试机制

## 🎨 版本 0.2.0 (生产就绪)

**目标时间**: 2025年11月  
**重点**: 生产级稳定性和可扩展性

### 高级工作流控制
- [ ] 流程控制节点实现
  - [ ] 条件分支（如果/否则）
  - [ ] 循环处理（for-each）
  - [ ] 并行执行支持
- [ ] 预设验证和错误处理
  - [ ] YAML 模式验证
  - [ ] 热重载支持
  - [ ] 友好的错误消息
- [ ] 工作流组合和链式调用

### 多模型支持
- [ ] 多 AI 模型适配器
  - [ ] Claude 集成
  - [ ] Groq 支持
  - [ ] 本地模型支持
- [ ] 模型路由策略
- [ ] 性能监控和优化

## 🌟 版本 1.0.0 (功能完整)

**目标时间**: 2026年第一季度

### 增强触发器
- [ ] 智能文件保存检测（仅在有意义的更改时触发）
- [ ] 手动触发的快捷键
- [ ] 工作区特定的触发器配置
- [ ] Git 钩子集成

### 高级上下文
- [ ] 项目级上下文分析
- [ ] 依赖图理解
- [ ] 文档集成
- [ ] 测试覆盖率分析

### 协作功能
- [ ] 团队预设分享
- [ ] 工作流模板市场
- [ ] 代码审查集成
- [ ] 多开发者工作流协调

### 性能与可靠性
- [ ] 工作流缓存和优化
- [ ] 离线模式支持
- [ ] 后台处理
- [ ] 错误恢复机制

### 分析与洞察
- [ ] 工作流使用分析
- [ ] 代码质量指标
- [ ] 生产力洞察
- [ ] AI 模型性能跟踪

## � 当前优先级 (2025年8月更新)

### 🔥 即时优先级 (v0.1.0-0.1.1)
1. **上下文智能**: 实现上下文排序器解决提示词超长问题
2. **工具基础**: 构建真实工具执行能力
3. **安全性**: 工具权限控制和沙箱机制

### 📈 短期优先级 (v0.1.2-0.1.3)  
1. **用户体验**: 工作流状态显示和友好错误处理
2. **AI 集成**: 将模拟替换为真实 AI 模型调用
3. **配置**: 可配置的模型选择和参数调整

### 🎯 中期优先级 (v0.2.0-1.0.0)
1. **高级工作流**: 流程控制、并行执行、条件分支
2. **多模型**: Claude、Groq 等多模型支持
3. **协作**: 团队协作和预设分享机制

## 🤝 贡献指南

我们欢迎贡献！优先领域：

- **🔥 高优先级**: 上下文排序器、工具实现、安全机制
- **📈 中优先级**: 用户界面/用户体验改进、错误处理、文档完善  
- **💡 低优先级**: 新预设模板、实验性功能

详细指南请参见 [CONTRIBUTING.md](CONTRIBUTING.md)。

## � 成功指标

### v0.1.3 目标 (2025年底)
- [ ] 核心功能稳定运行
- [ ] 上下文排序器显著减少提示词超长
- [ ] 基础工具支持文件操作
- [ ] 真实 AI 模型集成完成

### v0.2.0 目标 (2026年第一季度)
- [ ] 100+ 活跃用户测试
- [ ] <3秒平均工作流执行时间
- [ ] 90% 工作流成功率
- [ ] 5+ 社区贡献的预设

### v1.0.0 目标 (2026年第二季度)
- [ ] 500+ 活跃用户
- [ ] 企业级稳定性
- [ ] 无缝多模型切换
- [ ] 完整的开发文档

---

*最后更新: 2025年8月20日*
3. **安全性**: 工具权限控制和沙箱机制

### 📈 短期优先级 (v0.1.2-0.1.3)  
1. **用户体验**: 工作流状态显示和友好错误处理
2. **AI 集成**: 将模拟替换为真实 AI 模型调用
3. **配置**: 可配置的模型选择和参数调整

### 🎯 中期优先级 (v0.2.0-1.0.0)
1. **高级工作流**: 流程控制、并行执行、条件分支
2. **多模型**: Claude、Groq 等多模型支持
3. **协作**: 团队协作和预设分享机制

## 🤝 贡献指南

我们欢迎贡献！优先领域：

- **🔥 高优先级**: 上下文排序器、工具实现、安全机制
- **📈 中优先级**: 用户界面/用户体验改进、错误处理、文档完善  
- **💡 低优先级**: 新预设模板、实验性功能

详细指南请参见 [CONTRIBUTING.md](CONTRIBUTING.md)。

## 📊 成功指标

### v0.1.3 目标 (2025年底)
- [ ] 核心功能稳定运行
- [ ] 上下文排序器显著减少提示词超长
- [ ] 基础工具支持文件操作
- [ ] 真实 AI 模型集成完成

### v0.2.0 目标 (2026年第一季度)
- [ ] 100+ 活跃用户测试
- [ ] <3秒平均工作流执行时间
- [ ] 90% 工作流成功率
- [ ] 5+ 社区贡献的预设

### v1.0.0 目标 (2026年第二季度)
- [ ] 500+ 活跃用户
- [ ] 企业级稳定性
- [ ] 无缝多模型切换
- [ ] 完整的开发文档

---

*最后更新: 2025年8月20日*